<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Nivelaci칩n MAE - Universidad de Chile</title>
<style>
    :root {
        --bg: #0d1117; --card: #161b22; --border: #30363d;
        --text: #c9d1d9; --accent: #58a6ff; 
        --math: #7ee787; /* Verde para mate */
        --micro: #f0883e; /* Naranja para micro */
        --macro: #d2a8ff; /* Morado para macro */
        --metrics: #79c0ff; /* Azul para econometr칤a */
        --font-sans: system-ui, -apple-system, sans-serif;
        --font-mono: ui-monospace, SFMono-Regular, monospace;
    }
    body { background: var(--bg); color: var(--text); font-family: var(--font-sans); margin: 0; padding: 20px; }
    .wrap { max-width: 1400px; margin: 0 auto; }
    
    /* Header Styles */
    header { border-bottom: 1px solid var(--border); padding-bottom: 20px; margin-bottom: 20px; }
    h1 { margin: 0; font-size: 1.8rem; color: #fff; }
    .subtitle { color: #8b949e; margin-top: 5px; font-size: 0.95rem; }
    
    /* Grid Layout */
    .grid-container { display: grid; grid-template-columns: 300px 1fr; gap: 20px; }
    @media (max-width: 900px) { .grid-container { grid-template-columns: 1fr; } }

    /* Sidebar / Resources */
    .sidebar { display: flex; flex-direction: column; gap: 15px; }
    .resource-card { background: var(--card); border: 1px solid var(--border); border-radius: 6px; padding: 15px; }
    .res-title { font-weight: bold; color: #fff; margin-bottom: 10px; display: flex; align-items: center; gap: 8px; }
    .link-list a { display: block; padding: 6px 0; color: var(--accent); text-decoration: none; font-size: 0.9rem; }
    .link-list a:hover { text-decoration: underline; }
    
    /* Main Planner Table */
    .planner-card { background: var(--card); border: 1px solid var(--border); border-radius: 6px; overflow: hidden; }
    .controls { padding: 15px; background: #21262d; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 10px; }
    
    table { width: 100%; border-collapse: collapse; min-width: 800px; }
    th { text-align: left; padding: 12px 15px; background: #0d1117; color: #8b949e; font-size: 0.8rem; text-transform: uppercase; border-bottom: 1px solid var(--border); }
    td { padding: 12px 15px; border-bottom: 1px solid var(--border); vertical-align: top; font-size: 0.9rem; }
    tr:hover { background: rgba(255,255,255,0.02); }

    /* Badges & Tags */
    .badge { display: inline-block; padding: 2px 8px; border-radius: 12px; font-size: 0.75rem; font-weight: bold; border: 1px solid transparent; }
    .b-math { color: #000; background: var(--math); border-color: var(--math); }
    .b-micro { color: #000; background: var(--micro); border-color: var(--micro); }
    .b-macro { color: #000; background: var(--macro); border-color: var(--macro); }
    .b-metrics { color: #000; background: var(--metrics); border-color: var(--metrics); }
    
    .book-ref { font-family: var(--font-mono); font-size: 0.8rem; color: #8b949e; margin-top: 4px; display: block; }
    .outcome-list { margin: 0; padding-left: 20px; color: #c9d1d9; }
    .outcome-list li { margin-bottom: 4px; }

    /* Progress Bar */
    .progress-wrap { flex-grow: 1; max-width: 300px; margin-right: 20px; }
    .progress-bar { height: 8px; background: #30363d; border-radius: 4px; overflow: hidden; }
    .progress-fill { height: 100%; background: var(--accent); width: 0%; transition: width 0.3s; }
    .progress-text { font-size: 0.8rem; color: #8b949e; text-align: right; margin-top: 4px; }

    /* Checkbox styling */
    .check-container { display: block; position: relative; padding-left: 30px; margin-bottom: 8px; cursor: pointer; user-select: none; }
    .check-container input { position: absolute; opacity: 0; cursor: pointer; height: 0; width: 0; }
    .checkmark { position: absolute; top: 0; left: 0; height: 20px; width: 20px; background-color: #21262d; border: 1px solid var(--border); border-radius: 4px; }
    .check-container:hover input ~ .checkmark { background-color: #30363d; }
    .check-container input:checked ~ .checkmark { background-color: var(--accent); border-color: var(--accent); }
    .checkmark:after { content: ""; position: absolute; display: none; }
    .check-container input:checked ~ .checkmark:after { display: block; }
    .check-container .checkmark:after { left: 7px; top: 3px; width: 5px; height: 10px; border: solid white; border-width: 0 2px 2px 0; transform: rotate(45deg); }

</style>
</head>
<body>

<div class="wrap">
    <header>
        <h1>Nivelaci칩n Mag칤ster An치lisis Econ칩mico (FEN)</h1>
        <div class="subtitle">Planner Intensivo de 8 Semanas 췅 Basado en bibliograf칤a est치ndar UChile</div>
    </header>

    <div class="grid-container">
        <div class="sidebar">
            <div class="resource-card" style="border-color: var(--math);">
                <div class="res-title" style="color:var(--math)">游늻 Matem치ticas</div>
                <div style="font-size:0.85rem; margin-bottom:10px;">
                    <strong>Libro Base:</strong> Simon & Blume, <em>Mathematics for Economists</em>.<br>
                    <span style="color:#8b949e">Alternativa: Chiang & Wainwright.</span>
                </div>
                <div class="link-list">
                    <a href="https://ocw.mit.edu/courses/14-102-mathematics-for-economists-fall-2004/" target="_blank">MIT OCW: Math for Economists</a>
                    <a href="https://www.khanacademy.org/math/multivariable-calculus" target="_blank">Khan Academy: C치lculo Multivariable</a>
                </div>
            </div>

            <div class="resource-card" style="border-color: var(--micro);">
                <div class="res-title" style="color:var(--micro)">游꼝 Microeconom칤a</div>
                <div style="font-size:0.85rem; margin-bottom:10px;">
                    <strong>Libro Base:</strong> Nicholson & Snyder, <em>Microeconomic Theory</em>.<br>
                    <span style="color:#8b949e">Enfoque: Equilibrio General, Bienestar y Fallas de Mercado.</span>
                </div>
                <div class="link-list">
                    <a href="https://www.youtube.com/playlist?list=PLC8471298458D4D60" target="_blank">Curso Micro Avanzada (YouTube)</a>
                    <a href="https://mru.org/" target="_blank">Marginal Revolution Univ (Conceptos)</a>
                </div>
            </div>

            <div class="resource-card" style="border-color: var(--metrics);">
                <div class="res-title" style="color:var(--metrics)">游늵 Estad칤stica/Econometr칤a</div>
                <div style="font-size:0.85rem; margin-bottom:10px;">
                    <strong>Libro Base:</strong> Wooldridge, <em>Introductory Econometrics</em>.<br>
                    <span style="color:#8b949e">Clave: Modelo Lineal (OLS) y sus supuestos.</span>
                </div>
                <div class="link-list">
                    <a href="https://www.youtube.com/c/BenLambert" target="_blank">Ben Lambert (Mejor canal de Econometr칤a)</a>
                    <a href="https://www.youtube.com/user/econometricsacademy" target="_blank">Econometrics Academy</a>
                </div>
            </div>

            <div class="resource-card" style="border-color: var(--macro);">
                <div class="res-title" style="color:var(--macro)">游늳 Macroeconom칤a</div>
                <div style="font-size:0.85rem; margin-bottom:10px;">
                    <strong>Libro Base:</strong> De Gregorio, <em>Macroeconom칤a</em>.<br>
                    <span style="color:#8b949e">Est치ndar FEN. Alternativa: Romer (Advanced Macro).</span>
                </div>
            </div>
            
             <div class="resource-card">
                <div class="res-title">游 Datos</div>
                <div style="font-size:0.85rem; color:#8b949e;">
                    Tu progreso se guarda autom치ticamente en este navegador.
                </div>
                 <button onclick="resetProgress()" style="margin-top:10px; background:#21262d; color:#f85149; border:1px solid #f85149; padding:5px 10px; border-radius:4px; cursor:pointer;">Resetear Todo</button>
            </div>
        </div>

        <div class="planner-card">
            <div class="controls">
                <div class="progress-wrap">
                    <div class="progress-bar"><div class="progress-fill" id="globalFill"></div></div>
                    <div class="progress-text">Progreso General: <span id="globalPct">0%</span></div>
                </div>
                <select id="weekFilter" style="background:#0d1117; color:#fff; padding:5px; border:1px solid #30363d; border-radius:4px;">
                    <option value="all">Ver Todo el Programa</option>
                    <option value="1">Semana 1</option>
                    <option value="2">Semana 2</option>
                    <option value="3">Semana 3</option>
                    <option value="4">Semana 4</option>
                    <option value="5">Semana 5</option>
                    <option value="6">Semana 6</option>
                    <option value="7">Semana 7</option>
                    <option value="8">Semana 8</option>
                </select>
            </div>

            <div style="overflow-x:auto;">
                <tbody id="planBody">
                    </tbody>
                <table id="planTable">
                    <thead>
                        <tr>
                            <th style="width:50px;">Sem</th>
                            <th style="width:120px;">Asignatura</th>
                            <th>Tema & Lectura (Libro + Cap칤tulos)</th>
                            <th style="width:250px;">Checklist de Estudio</th>
                        </tr>
                    </thead>
                    <tbody id="tableContent"></tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<script>
/* ================= DATA DEL PROGRAMA (Mapeo Oficial) ================= */
const PLAN = [
    // --- SEMANA 1: FUNDAMENTOS ---
    { w:1, area:"math", title:"츼lgebra Lineal B치sica", book:"Simon & Blume: Cap. 6-9", details:["Vectores, independencia lineal", "Determinantes e inversas", "Sistemas Ax=b"], tasks:["Leer Cap 7-8", "Resolver 5 ejercicios de sistemas"] },
    { w:1, area:"micro", title:"Teor칤a del Consumidor", book:"Nicholson: Cap. 3-4", details:["Preferencias y Utilidad", "Restricci칩n presupuestaria", "Maximizaci칩n de utilidad"], tasks:["Derivar demanda Marshaliana", "Entender TMS"] },
    { w:1, area:"metrics", title:"Repaso Estad칤stica", book:"Wooldridge: Ap칠ndice B y C", details:["Valor Esperado, Varianza, Covarianza", "Distribuciones (Normal, t, F)", "Estimadores b치sicos"], tasks:["Memorizar prop. Esperanza/Varianza", "Hacer ejercicios Ap칠ndice B"] },
    { w:1, area:"macro", title:"Contabilidad e Intro", book:"De Gregorio: Cap. 2", details:["Identidades b치sicas", "Medici칩n del PIB e inflaci칩n", "Datos macroecon칩micos"], tasks:["Revisar datos Banco Central Chile", "Entender identidades contables"] },

    // --- SEMANA 2: OPTIMIZACI칍N Y MERCADOS ---
    { w:2, area:"math", title:"C치lculo Multivariable", book:"Simon & Blume: Cap. 14-15", details:["Derivadas parciales", "Gradiente y Hessiano", "Convexidad y Concavidad"], tasks:["Calcular Hessianos", "Test de concavidad"] },
    { w:2, area:"micro", title:"Demanda y Producci칩n", book:"Nicholson: Cap. 5-6 y 9", details:["Efecto Ingreso y Sustituci칩n (Slutsky)", "Funci칩n de Producci칩n", "Costos"], tasks:["Gr치fico Slutsky", "Derivar funciones de costo"] },
    { w:2, area:"metrics", title:"Modelo Lineal Simple", book:"Wooldridge: Cap. 2", details:["Regresi칩n Simple (OLS)", "Derivaci칩n de Beta0 y Beta1", "R-cuadrado"], tasks:["Derivar OLS a mano", "Interpretar coeficientes"] },
    { w:2, area:"macro", title:"Crecimiento I: Solow", book:"De Gregorio: Cap. 12 (o Romer Cap 1)", details:["Modelo de Solow b치sico", "Acumulaci칩n de capital", "Estado estacionario"], tasks:["Derivar Steady State", "Simular choque en tasa ahorro"] },

    // --- SEMANA 3: OPTIMIZACI칍N AVANZADA Y EQUILIBRIO ---
    { w:3, area:"math", title:"Optimizaci칩n Libres y Restricciones", book:"Simon & Blume: Cap. 17-18", details:["FOC y SOC (Condiciones 1ro/2do orden)", "Lagrange Multipliers", "Interpretaci칩n de Lambda"], tasks:["Resolver Lagrangiano", "Interpretar Lambda econ칩micamente"] },
    { w:3, area:"micro", title:"Equilibrio Parcial Competitivo", book:"Nicholson: Cap. 12", details:["Oferta y Demanda de mercado", "Eficiencia en el CP", "Excedentes"], tasks:["Calcular equilibrio mercado", "Analizar p칠rdidas eficiencia"] },
    { w:3, area:"metrics", title:"Regresi칩n M칰ltiple: Estimaci칩n", book:"Wooldridge: Cap. 3", details:["Mec치nica de OLS m칰ltiple", "Interpretaci칩n 'Ceteris Paribus'", "Sesgo de variable omitida"], tasks:["Entender sesgo por f칩rmula", "Interpretar dummies"] },
    { w:3, area:"macro", title:"Consumo e Inversi칩n", book:"De Gregorio: Cap. 4-5", details:["Consumo intertemporal (2 periodos)", "Hip칩tesis Ingreso Permanente", "Q de Tobin (intro)"], tasks:["Resolver optimizaci칩n intertemporal", "Euler Equation b치sica"] },

    // --- SEMANA 4: EQUILIBRIO GENERAL Y GAUSS-MARKOV ---
    { w:4, area:"math", title:"Kuhn-Tucker (Intro)", book:"Simon & Blume: Cap. 18-19", details:["Restricciones de desigualdad", "Condiciones de holgura complementaria"], tasks:["Plantear problema K-T simple"] },
    { w:4, area:"micro", title:"Equilibrio General (Intercambio)", book:"Nicholson: Cap. 13", details:["Caja de Edgeworth", "Eficiencia de Pareto", "1er y 2do Teorema del Bienestar"], tasks:["Dibujar Caja Edgeworth", "Definir Pareto 칍ptimo"] },
    { w:4, area:"metrics", title:"Inferencia y Gauss-Markov", book:"Wooldridge: Cap. 4", details:["Teorema Gauss-Markov (BLUE)", "Pruebas de Hip칩tesis (t-test)", "Intervalos de Confianza"], tasks:["Demostrar insesgadez", "Realizar test de hip칩tesis"] },
    { w:4, area:"macro", title:"Fluctuaciones: IS-LM", book:"De Gregorio: Cap. 14-15", details:["Mercado bienes y dinero", "Derivaci칩n IS-LM", "Pol칤ticas fiscal/monetaria CP"], tasks:["Gr치ficos est치tica comparativa", "Multiplicadores"] },

    // --- SEMANA 5: FALLAS DE MERCADO I ---
    { w:5, area:"math", title:"Ecuaciones Diferenciales (Intro)", book:"Simon & Blume: Cap. 24", details:["Ec. Diferenciales primer orden", "Diagramas de fase (b치sico)", "Estabilidad"], tasks:["Resolver EDO simple", "Dibujar diagrama fase"] },
    { w:5, area:"micro", title:"Fallas: Externalidades", book:"Nicholson: Cap. 19", details:["Externalidades + y -", "Impuestos Pigou", "Teorema de Coase"], tasks:["Calcular p칠rdida social", "Soluci칩n privada vs social"] },
    { w:5, area:"metrics", title:"Asint칩tica y OLS problemas", book:"Wooldridge: Cap. 5-6", details:["Consistencia (n grande)", "Formas funcionales (ln-ln, ln-level)", "Predicci칩n"], tasks:["Interpretar logaritmos", "Diferencia insesgado vs consistente"] },
    { w:5, area:"macro", title:"Oferta y Demanda Agregada", book:"De Gregorio: Cap. 16-17", details:["Modelo OA-DA din치mico", "Curva de Phillips", "Expectativas"], tasks:["Analizar shock oferta/demanda", "Curva Phillips CP vs LP"] },

    // --- SEMANA 6: FALLAS DE MERCADO II ---
    { w:6, area:"math", title:"Repaso / Buffer Matem치tica", book:"Review General", details:["Consolidar Optimizaci칩n y 츼lgebra", "Revisar errores anteriores"], tasks:["Rehacer ejercicios dif칤ciles"] },
    { w:6, area:"micro", title:"Bienes P칰blicos", book:"Nicholson: Cap. 19", details:["No rivalidad / No exclusi칩n", "Condici칩n de Samuelson", "Free Rider"], tasks:["Derivar Condici칩n Samuelson", "Problema del poliz칩n"] },
    { w:6, area:"metrics", title:"Variables Dummy y Heterocedast.", book:"Wooldridge: Cap. 7-8", details:["Variables cualitativas", "Detecci칩n Heterocedasticidad", "Errores Robustos"], tasks:["Test de White/Breusch-Pagan", "Uso de errores robustos"] },
    { w:6, area:"macro", title:"Pol칤tica Monetaria y Fiscal", book:"De Gregorio: Cap. 19-20", details:["Reglas de pol칤tica (Taylor)", "Restricci칩n presupuestaria gobierno", "Equivalencia Ricardiana"], tasks:["Analizar Regla de Taylor", "Implicancias deuda p칰blica"] },

    // --- SEMANA 7: TEOR칈A DE JUEGOS ---
    { w:7, area:"math", title:"Estoc치stica Intro", book:"Notas de clase / Ross", details:["Variables aleatorias en econom칤a", "Valor esperado de funciones"], tasks:["Jensen's Inequality"] },
    { w:7, area:"micro", title:"Teor칤a de Juegos (Est치ticos)", book:"Nicholson: Cap. 8 (o Gibbons)", details:["Juegos en forma normal", "Estrategias Dominantes", "Equilibrio de Nash"], tasks:["Resolver Dilema Prisionero", "Calcular Nash puros/mixtos"] },
    { w:7, area:"metrics", title:"Series de Tiempo B치sicas", book:"Wooldridge: Cap. 10", details:["Datos de serie temporal", "Tendencias y estacionalidad", "Autocorrelaci칩n b치sica"], tasks:["Diferenciar OLS CS vs TS", "Detrending"] },
    { w:7, area:"macro", title:"Modelos Din치micos (Ramsey)", book:"De Gregorio/Romer", details:["Intro a Ramsey-Cass-Koopmans", "Optimizaci칩n din치mica (intuici칩n)"], tasks:["Entender Euler Equation consumo"] },

    // --- SEMANA 8: REPASO FINAL ---
    { w:8, area:"math", title:"Examen Final Math", book:"Todo el material", details:["Repaso integrador", "Simulacro de prueba"], tasks:["Resolver examen a침o anterior"] },
    { w:8, area:"micro", title:"Examen Final Micro", book:"Todo el material", details:["Repaso integrador", "Simulacro de prueba"], tasks:["Resolver examen a침o anterior"] },
    { w:8, area:"metrics", title:"Examen Final Econometr칤a", book:"Todo el material", details:["Repaso integrador", "Simulacro de prueba"], tasks:["Resolver examen a침o anterior"] },
    { w:8, area:"macro", title:"Examen Final Macro", book:"Todo el material", details:["Repaso integrador", "Simulacro de prueba"], tasks:["Resolver examen a침o anterior"] }
];

/* ================= L칍GICA DE LA APP ================= */
const STORAGE_KEY = "fen_planner_v1";

function loadState() {
    const s = localStorage.getItem(STORAGE_KEY);
    return s ? JSON.parse(s) : {};
}

function saveState(state) {
    localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    updateProgress();
}

function renderTable(filterWeek = "all") {
    const tbody = document.getElementById("tableContent");
    tbody.innerHTML = "";
    
    let state = loadState();

    PLAN.forEach((item, index) => {
        if(filterWeek !== "all" && item.w != filterWeek) return;

        const tr = document.createElement("tr");
        
        // Col 1: Semana
        const tdW = document.createElement("td");
        tdW.innerHTML = `<span style="font-family:var(--font-mono); color:#8b949e;">W${item.w}</span>`;
        tr.appendChild(tdW);

        // Col 2: Asignatura (Badge)
        const tdSub = document.createElement("td");
        let badgeClass = "";
        let areaName = "";
        if(item.area === "math") { badgeClass="b-math"; areaName="Matem치ticas"; }
        if(item.area === "micro") { badgeClass="b-micro"; areaName="Micro"; }
        if(item.area === "macro") { badgeClass="b-macro"; areaName="Macro"; }
        if(item.area === "metrics") { badgeClass="b-metrics"; areaName="Econometr칤a"; }
        
        tdSub.innerHTML = `<span class="badge ${badgeClass}">${areaName}</span>`;
        tr.appendChild(tdSub);

        // Col 3: Contenido
        const tdContent = document.createElement("td");
        tdContent.innerHTML = `
            <div style="font-weight:600; color:#fff;">${item.title}</div>
            <span class="book-ref">游닀 ${item.book}</span>
            <ul class="outcome-list">
                ${item.details.map(d => `<li>${d}</li>`).join('')}
            </ul>
        `;
        tr.appendChild(tdContent);

        // Col 4: Checks
        const tdCheck = document.createElement("td");
        item.tasks.forEach((task, tIndex) => {
            const taskId = `w${item.w}_${item.area}_t${tIndex}`;
            const checked = state[taskId] ? "checked" : "";
            
            const label = document.createElement("label");
            label.className = "check-container";
            label.innerHTML = `
                ${task}
                <input type="checkbox" id="${taskId}" ${checked} onchange="toggleCheck('${taskId}')">
                <span class="checkmark"></span>
            `;
            tdCheck.appendChild(label);
        });
        tr.appendChild(tdCheck);

        tbody.appendChild(tr);
    });
    updateProgress();
}

function toggleCheck(id) {
    let state = loadState();
    const chk = document.getElementById(id);
    if (chk.checked) {
        state[id] = true;
    } else {
        delete state[id];
    }
    saveState(state);
}

function updateProgress() {
    let state = loadState();
    // Contar total de tareas en el PLAN
    let totalTasks = 0;
    PLAN.forEach(p => totalTasks += p.tasks.length);
    
    // Contar checked
    let done = Object.keys(state).length;
    
    let pct = totalTasks === 0 ? 0 : Math.round((done / totalTasks) * 100);
    
    document.getElementById("globalFill").style.width = pct + "%";
    document.getElementById("globalPct").innerText = pct + "%";
}

function resetProgress() {
    if(confirm("쮹orrar todo el progreso?")) {
        localStorage.removeItem(STORAGE_KEY);
        renderTable(document.getElementById("weekFilter").value);
    }
}

// Filtro
document.getElementById("weekFilter").addEventListener("change", (e) => {
    renderTable(e.target.value);
});

// Init
renderTable();

</script>
</body>
</html>
